<app-header> </app-header>
<ion-content>
  <h3 class="ion-text-center">MIS PEDIDOS</h3>
  <h4 class="ml-6">Pedidos en curso</h4>
  <ion-list>
    <ng-container *ngFor="let ped of listaPedidos$|async">
      <ion-item
        *ngIf="ped.estadoPedido!=estadosPedido.Entregado"
        (click)="redirectDetallePedido()"
        lines="none"
        class="pedEnCurso ion-text-wrap"
      >
        <ion-row class="w-100">
          <ng-container *ngFor="let linea of ped.lineasPedido">
            <ion-col size="12">
              <ion-row
                class="ion-align-items-center ion-justify-content-between"
              >
                <ion-col size="6" size-sm="auto">
                  <ion-label class="ion-padding-start ion-text-wrap">
                    {{getNombreCategoria(linea.producto.idCategoria)|titlecase}}
                    {{linea.producto.nombre}} x {{linea.cantidad}}
                    <br />
                    <p class="extras">
                      {{linea.producto.extrasProducto?.length>0?'Extras:':''}}
                      <small>
                        <ng-container
                          *ngFor="let extra of linea.producto.extrasProducto; let i=last"
                        >
                          {{extra.descExtra}}{{i?'':' -'}}
                        </ng-container>
                      </small>
                    </p>
                  </ion-label>
                </ion-col>
                <ion-col size="auto" class="price">
                  <ion-label class="ion-padding-end">
                    {{linea.totalProducto|currency}}
                  </ion-label>
                </ion-col>
              </ion-row>
            </ion-col>
          </ng-container>
        </ion-row>

        <ion-row class="ion-justify-content-start w-min-content">
          <ion-col size="auto">
            <ion-label>
              Estado:<br />En preparaci√≥n
            </ion-label>
          </ion-col>
          <ion-col size="auto">
            <ion-label class="ion-text-wrap">
              Domicilio:<br />San juan 1231, Rosario, Santa fe
            </ion-label>
          </ion-col>
        </ion-row>
      </ion-item>
    </ng-container>
  </ion-list>

  <h4 class="ml-6">Pedidos anteriores</h4>

  <ion-list>
    <ng-container *ngFor="let ped of listaPedidos$|async">
      <ion-item
        *ngIf="ped.estadoPedido==estadosPedido.Entregado"
        (click)="redirectDetallePedido()"
        class="cadaPed"
        lines="none"
      >
        <ion-row>
          <ion-col size="8">
            <ion-label>nroPedido</ion-label>
            <ion-list>
              <ion-item *ngFor="let linea of ped.lineasPedido">
                <ion-label>{{linea.idProducto}}</ion-label>
              </ion-item>
            </ion-list>
          </ion-col>
          <ion-col size="4">
            <ion-label
              >Estado:<br />Entregado<br />Fecha_entrega_pedido</ion-label
            >
          </ion-col>
        </ion-row>
      </ion-item>
    </ng-container>
  </ion-list>
</ion-content>
